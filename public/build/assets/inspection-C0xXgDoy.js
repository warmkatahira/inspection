import{s as m}from"./loading-ChqFcCVw.js";function o(e,i=null){(u=>{const n="audio/";let t="";if(e==="start")t=`${n}start.mp3`;else if(e==="proc")t=`${n}proc.mp3`;else if(e==="ng")t=`${n}ng.mp3`;else if(e==="complete")t=`${n}complete.mp3`;else if(e==="end")t=`${n}end.mp3`;else{console.warn(`無効なカテゴリ: ${e}`);return}const c=new Audio(t);c.currentTime=0,c.play(),i&&e==="complete"&&c.addEventListener("ended",i)})()}$(document).ready(function(){$("#item_id_code").focus(),$("#end").val()&&o("end")});$("#item_id_code").on("change",function(){$("#item_id_code").val()&&$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:"/inspection/ajax_check_item_id_code",type:"GET",data:{item_id_code:$("#item_id_code").val()},dataType:"json",success:function(i){try{if(i.error_message)throw new Error(i.error_message);$("#inspection_quantity").html(i.inspection_quantity),i.inspection_quantity==1&&($("#stock").html(i.stock),$("#item_name").html(i.item_name)),l(i)}catch(s){_(s.message)}},error:function(){alert("失敗")}})});function l(e){e.inspection_quantity==1?o("start"):o("proc"),$("#message").html(null),$("#item_id_code").val(null),$("#item_id_code").focus()}function _(e){o("ng"),$("#message").html(e),$("#item_id_code").val(null),$("#item_id_code").focus()}$("#complete_enter").on("click",function(){window.confirm("検品を完了しますか？")===!0&&(m(),$("#complete_form").submit())});
