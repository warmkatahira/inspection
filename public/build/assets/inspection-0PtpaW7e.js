import{s as l}from"./loading-ChqFcCVw.js";function o(e,i=null){(_=>{const t="audio/";let n="";if(e==="start")n=`${t}start.mp3`;else if(e==="proc")n=`${t}proc.mp3`;else if(e==="ng")n=`${t}ng.mp3`;else if(e==="complete")n=`${t}complete.mp3`;else if(e==="end")n=`${t}end.mp3`;else{console.warn(`無効なカテゴリ: ${e}`);return}const c=new Audio(n);c.currentTime=0,c.play(),i&&e==="complete"&&c.addEventListener("ended",i)})()}$(document).ready(function(){$("#item_id_code").focus()});$("#item_id_code").on("change",function(){$("#item_id_code").val()&&$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:"/inspection/ajax_check_item_id_code",type:"GET",data:{item_id_code:$("#item_id_code").val()},dataType:"json",success:function(i){try{if(console.log(i),i.error_message)throw new Error(i.error_message);$("#inspection_quantity").html(i.inspection_quantity),i.inspection_quantity==1&&$("#stock").html(i.stock),u(i)}catch(s){m(s.message)}},error:function(){alert("失敗")}})});function u(e){e.inspection_quantity==1?o("start"):o("proc"),$("#message").html(null),$("#item_id_code").val(null),$("#item_id_code").focus()}function m(e){o("ng"),$("#message").html(e),$("#item_id_code").val(null),$("#item_id_code").focus()}$("#complete_enter").on("click",function(){window.confirm("検品を完了しますか？")===!0&&(o("end"),l(),$("#complete_form").submit())});
