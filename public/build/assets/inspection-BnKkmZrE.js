function s(i,e=null){(l=>{const n="audio/";let o="";if(i==="proc")o=`${n}proc.mp3`;else if(i==="ng")o=`${n}ng.mp3`;else if(i==="complete")o=`${n}complete.mp3`;else{console.warn(`無効なカテゴリ: ${i}`);return}const t=new Audio(o);t.currentTime=0,t.play(),e&&i==="complete"&&t.addEventListener("ended",e)})()}$(document).ready(function(){$("#item_id_code").focus()});$("#item_id_code").on("change",function(){$("#item_id_code").val()&&$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:"/inspection/ajax_check_item_id_code",type:"GET",data:{item_id_code:$("#item_id_code").val()},dataType:"json",success:function(e){try{if(console.log(e),e.error_message)throw new Error(e.error_message);$("#inspection_quantity").html(e.inspection_quantity),e.inspection_quantity==1&&$("#stock").html(e.stock),_(e)}catch(c){d(c.message)}},error:function(){alert("失敗")}})});function _(i){s("proc"),$("#message").html(null),$("#item_id_code").val(null),$("#item_id_code").focus()}function d(i){s("ng"),$("#message").html(i),$("#item_id_code").val(null),$("#item_id_code").focus()}
